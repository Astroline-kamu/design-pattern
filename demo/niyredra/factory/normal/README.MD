# 起源 (Original)

> 随着项目体系的不断庞大，我们的鸭爪酱（就是我！）发现虽然项目是完成了，但是却不能随时监听到服务器的状态。
> 
> 「我总不能每天都去查看一眼服务器的日志吧」，她喊道。
> 
> 喊，不是解决的办法，一个告警系统的必要性还是需要的——但是为什么爪爪她不用一些目前线上拥有的包捏，因为她不知道有什么封装完善的包可以用！


## 所以，这是将是一个用注解打入项目内部进行检测的警报系统！

你问我为什么没有把这些代码开源出来——<sub><sup><sub><sub>只是因为功能未完善，所以暂时没有传到maven上就是了...<sup><sub>(超小声)</sub></sup></sub></sub></sup></sub>

## 结构

- `Factory`负责配置Handler（很显然handler自己也可以完成，所以我让它变得稍微灵活了一点点）
- `Client`负责正式执行，进行Report的消息发送
- `Handler`负责装载Factory传来的配置信息，然后进行
- `Properties`用来传输配置信息的Pojo类

## 未完成

- SMS的服务渠道有很多，比如阿里云、聚合数据等
- 信息收发可以是有模版包的，微信和企业微信都有提供一套可信的消息推送样式
- Email的两种配置方式，imap和pop3 这里只写了imap的方法
- Email的收发数据模版

## 流程

流程1 将Handler静态化，没有Factory什么事了
流程2 Handler用反射获取基本登陆信息，也没有factory什么事了
流程3 Factory中反射获取Properties，直接生成带Properties的Client（应当如此）


## At last

总之！这一个案例说配置，下一个案例写一个实现。

- 数据源选取 ElasticSearch、Solr、Clickhouse等 (1)
- 推送方式选取 微信消息、邮件消息、手机短信(SMS)等 (4)
- 中间数据实现 Api支持 (2)
- 算子，是算子！推送模式，并发时、每日定时等 (3)
















————核弹来袭，赶紧拔草测风向～
