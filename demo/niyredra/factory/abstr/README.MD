> 一般来说，对于构建繁琐的类使用工厂模式完成，如果多个构建繁琐且重复性高的类，则可以使用抽象工厂来实现。
>
> 设计模式可以实现几乎任何业务的代码，但是问题在于他们合适与否——如果只是为了实现而使用设计模式，这将会是非常不明智的。

不过确实，我承认这里用工厂模式真的并不明智。

# intro

总之！如你所见，这里就是星际2的泰伦工厂了。

架构很简单（又或者很复杂？），分为了两个部分： 

Counter - 作为所有存活单位的统计，用于收录这些单位（在工厂创建的单位的时候进行收录）
AbstractFactory - 抽象工厂 这个案例主要实现的东西。

内在关系分为了两个大模块：
- 建筑单位
- 非建筑单位

建筑标签的单位可以负责研究、制造单位
非建筑单位，会以技能的形式去释放、研究或者制造单位。

举个例子：
SCV可以建造东西，但是消耗钱；
渡鸦丢出来的炮台，属于有时间限制的召唤建筑物，要消耗能量；
影刀在学习闪现之前闪现是不能用的；

在它们使用之后，都会创造一个物品，不管是电也好，或者导弹，还是弹雨，这都是new出来的一个不可选中的，魔法对象。
所以你看，技能其实就是创建了一个对象。在这里最适合用工厂的，可能还是这东西。

第二个点在于「研发」模块，两种实现方式
- 研发是一个单独的科技树，独立进行，攻防等信息从这棵树中去获取（纵向结构，每次调用单位信息都要从单位 -> 单位池 -> 研发树拉取最新的属性以及技能可用性）
- 研发的信息将会覆盖到全局的科技树中，调用依旧以全局的科技树为主；研发模块更新的时候遍历更新一次科技树，对象在生成的时候拉取一次研发树（缓存思路）




技能是一个列队，用来修改已构建单位和未构建单位的属性以及科技标记，技能释放就好像在构建单位，这么理解的话技能本身也是一个unit，所以也需要一个requirement




